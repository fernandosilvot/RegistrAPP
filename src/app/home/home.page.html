<ion-header>
  <ion-toolbar>
    <img src="../../assets/duoc-logo.png" alt="Logo Duoc" style="height: 40px; margin-left: 10px;"/>
    <ion-button (click)="logout()" slot="end">Cerrar Sesión</ion-button>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" style="background-color: white;">
  <div class="welcome-container">
    <h2>Bienvenido, {{ fullName }}</h2>
    <p>¡Escanea el código QR de tu clase para marcar tu asistencia!</p>
    <h3>Clases Registradas:</h3>
    <ul>
      <li *ngFor="let clase of classes" style="color: color: #white;">{{ clase }}</li>
    </ul>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.7332100753897!2d-70.62706638479813!3d-33.48265898076854!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c5f60dd1c1f1%3A0x2e3b1e25d28707e!2sAv.%20Vicu%C3%B1a%20Mackenna%204917%2C%20San%20Joaqu%C3%ADn%2C%20Regi%C3%B3n%20Metropolitana%2C%20Chile!5e0!3m2!1ses-419!2scl!4v1698412940221!5m2!1ses-419!2scl" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
  </div>

  <ion-button expand="block" (click)="openQrScanner()">Leer Código QR</ion-button>
  <ion-button expand="block" (click)="stopQrScanner()" *ngIf="!scannedCode">Apagar Cámara</ion-button>

  <div *ngIf="scannedCode">
    <h3>Código escaneado:</h3>
    <p>{{ scannedCode }}</p>
  </div>
  
  <video id="video" *ngIf="!scannedCode" style="width: 100%; height: auto;"></video>
</ion-content>
